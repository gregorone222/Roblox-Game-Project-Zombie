<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototipe Wave Counter UI - Roblox</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #0f172a; /* Warna Slate-900 (Background Game) */
            background-image: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-top: 20px;
        }

        /* --- KONTAINER UTAMA UI --- */
        .hud-container {
            position: relative;
            width: 320px;
            /* Efek Kaca (Glassmorphism) ala Roblox modern */
            background: rgba(15, 23, 42, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            border-radius: 0 0 16px 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        /* Border atas berwarna (Indikator Status) */
        .status-line {
            height: 4px;
            width: 100%;
            background: linear-gradient(90deg, #ef4444, #b91c1c); /* Merah Bahaya */
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.8);
            transition: all 0.5s ease;
        }

        .status-line.safe {
            background: linear-gradient(90deg, #10b981, #059669); /* Hijau Aman */
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.8);
        }

        /* --- AREA KONTEN --- */
        .content {
            padding: 12px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Label Wave */
        .wave-label {
            font-size: 14px;
            color: #94a3b8; /* Slate-400 */
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: -4px;
        }

        /* Angka Wave */
        .wave-number {
            font-size: 48px;
            font-weight: 800;
            color: white;
            text-shadow: 0 0 15px rgba(239, 68, 68, 0.6);
            line-height: 1;
            position: relative;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }
        
        .wave-number.safe {
            text-shadow: 0 0 15px rgba(16, 185, 129, 0.6);
        }

        /* --- PROGRESS BAR ZOMBIE --- */
        .progress-track {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-top: 12px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: #ef4444;
            width: 100%; /* Mulai penuh, berkurang saat zombie mati */
            box-shadow: 0 0 8px rgba(239, 68, 68, 0.8);
            transition: width 0.2s ease-out, background-color 0.5s ease;
        }

        .progress-fill.safe {
            background: #10b981; /* Hijau */
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.8);
            width: 0% !important; /* Reset saat safe */
        }

        /* Teks Sisa Musuh */
        .enemy-count {
            font-size: 12px;
            color: #cbd5e1;
            margin-top: 4px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .skull-icon {
            width: 12px;
            height: 12px;
            fill: #ef4444;
        }

        /* --- INTERMISSION / COUNTDOWN OVERLAY --- */
        .countdown-overlay {
            position: absolute;
            inset: 0;
            background: rgba(15, 23, 42, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .countdown-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .countdown-text {
            font-size: 14px;
            color: #10b981; /* Emerald-500 */
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .countdown-timer {
            font-size: 32px;
            color: white;
            font-weight: 800;
        }

        /* --- ANIMASI & EFEK KHUSUS --- */
        
        /* Efek 'Bump' saat wave berubah */
        @keyframes bump {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .anim-bump {
            animation: bump 0.2s ease-out;
        }

        /* Efek Wave Cleared Text */
        .wave-cleared-text {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.5);
            font-size: 24px;
            font-weight: 900;
            color: #fbbf24; /* Amber */
            text-transform: uppercase;
            opacity: 0;
            pointer-events: none;
            white-space: nowrap;
            text-shadow: 0 4px 10px rgba(0,0,0,0.8);
        }
        
        @keyframes splashText {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -40%) scale(1.1); }
        }
        .anim-splash {
            animation: splashText 2s ease-out forwards;
        }

    </style>
</head>
<body>

    <!-- Main HUD Container -->
    <div class="hud-container" id="hudContainer">
        <!-- Color Indicator Line -->
        <div class="status-line" id="statusLine"></div>

        <!-- Active Content -->
        <div class="content">
            <div class="wave-label">GELOMBANG</div>
            <div class="wave-number" id="waveNumber">1</div>
            
            <!-- Progress Bar -->
            <div class="w-full">
                <div class="progress-track">
                    <div class="progress-fill" id="progressFill" style="width: 100%;"></div>
                </div>
                <div class="flex justify-between items-center mt-1">
                    <div class="enemy-count">
                        <svg class="skull-icon" viewBox="0 0 24 24">
                            <path d="M12 2C7.58 2 4 5.58 4 10c0 2.56 1.22 4.85 3.13 6.36L6.5 20h11l-.63-3.64C18.78 14.85 20 12.56 20 10c0-4.42-3.58-8-8-8zm0 2c3.31 0 6 2.69 6 6 0 1.86-.89 3.51-2.27 4.6-.38.3-.6.76-.6 1.25l.38 2.15h-7.02l.38-2.15c0-.49-.22-.95-.6-1.25C7.11 13.51 6.22 11.86 6.22 10c0-3.31 2.69-6 6-6zm-3 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm6 0c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"/>
                        </svg>
                        <span id="enemyCountText">25 Musuh Tersisa</span>
                    </div>
                    <div class="text-xs text-slate-500 font-bold" id="progressPercent">100%</div>
                </div>
            </div>
        </div>

        <!-- Intermission Overlay -->
        <div class="countdown-overlay" id="countdownOverlay">
            <div class="countdown-text">ISTIRAHAT</div>
            <div class="countdown-timer" id="countdownTimer">10</div>
            <div class="text-xs text-slate-400 mt-1">Bersiaplah...</div>
        </div>
    </div>

    <!-- Splash Text (Outside container to break bounds) -->
    <div class="wave-cleared-text" id="splashText">GELOMBANG SELESAI!</div>

    <!-- Control Simulation (Hanya untuk Demo Web) -->
    <div class="fixed bottom-10 left-1/2 transform -translate-x-1/2 flex gap-4 bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-xl">
        <button onclick="simulateKill()" class="bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded font-bold transition">Bunuh Zombie</button>
        <button onclick="forceNextWave()" class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded font-bold transition">Skip Wave</button>
    </div>

    <script>
        // --- LOGIKA SIMULASI (Untuk Demo) ---
        
        let currentWave = 1;
        let maxZombies = 20;
        let currentZombies = 20;
        let isIntermission = false;

        // Referensi UI
        const ui = {
            container: document.getElementById('hudContainer'),
            statusLine: document.getElementById('statusLine'),
            waveNum: document.getElementById('waveNumber'),
            progressFill: document.getElementById('progressFill'),
            enemyText: document.getElementById('enemyCountText'),
            percentText: document.getElementById('progressPercent'),
            overlay: document.getElementById('countdownOverlay'),
            timer: document.getElementById('countdownTimer'),
            splash: document.getElementById('splashText')
        };

        function updateUI() {
            // Hitung Persentase
            // Dalam game Roblox, progress biasanya naik dari 0 ke 100 saat kill.
            // Tapi visual bar musuh biasanya dari Penuh (banyak musuh) ke Kosong (habis).
            // Di sini kita buat bar = sisa health/jumlah musuh.
            const pct = (currentZombies / maxZombies) * 100;
            
            ui.progressFill.style.width = `${pct}%`;
            ui.enemyText.textContent = `${currentZombies} Musuh Tersisa`;
            ui.percentText.textContent = `${Math.round(pct)}%`;

            // Perubahan warna bar saat kritis
            if (pct < 25) {
                ui.progressFill.style.backgroundColor = '#facc15'; // Kuning peringatan hampir habis
            } else {
                ui.progressFill.style.backgroundColor = '#ef4444'; // Merah normal
            }
        }

        function simulateKill() {
            if (isIntermission || currentZombies <= 0) return;

            currentZombies--;
            if (currentZombies < 0) currentZombies = 0;
            
            updateUI();

            if (currentZombies === 0) {
                startIntermission();
            }
        }

        function startIntermission() {
            isIntermission = true;

            // 1. Efek Splash "WAVE CLEARED"
            ui.splash.classList.remove('anim-splash');
            void ui.splash.offsetWidth; // Trigger reflow
            ui.splash.classList.add('anim-splash');

            // 2. Ubah tema ke "Aman"
            ui.statusLine.classList.add('safe');
            ui.waveNum.classList.add('safe');
            
            // 3. Tampilkan Countdown setelah jeda singkat
            setTimeout(() => {
                ui.overlay.classList.add('active');
                
                let timeLeft = 5; // 5 detik istirahat
                ui.timer.textContent = timeLeft;
                
                const interval = setInterval(() => {
                    timeLeft--;
                    ui.timer.textContent = timeLeft;
                    if (timeLeft <= 0) {
                        clearInterval(interval);
                        startNextWave();
                    }
                }, 1000);
            }, 1500);
        }

        function startNextWave() {
            isIntermission = false;
            currentWave++;
            
            // Scaling kesulitan (simulasi)
            maxZombies = Math.floor(maxZombies * 1.2);
            currentZombies = maxZombies;

            // Reset UI
            ui.overlay.classList.remove('active');
            ui.statusLine.classList.remove('safe');
            ui.waveNum.classList.remove('safe');
            ui.progressFill.style.backgroundColor = '#ef4444'; // Balik merah
            
            // Update Angka Wave dengan efek Bump
            ui.waveNum.textContent = currentWave;
            ui.waveNum.classList.remove('anim-bump');
            void ui.waveNum.offsetWidth; 
            ui.waveNum.classList.add('anim-bump');

            updateUI();
        }

        function forceNextWave() {
            currentZombies = 0;
            updateUI();
            startIntermission();
        }

        // Init
        updateUI();

    </script>
</body>
</html>
