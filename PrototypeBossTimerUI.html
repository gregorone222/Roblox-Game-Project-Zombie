<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Boss Timer UI Redesign</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Chakra+Petch:wght@400;600;700&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        /* --- Custom Fonts --- */
        .font-header { font-family: 'Black Ops One', cursive; }
        .font-ui { font-family: 'Chakra Petch', sans-serif; }
        .font-mono-num { font-family: 'JetBrains Mono', monospace; }

        /* --- Background & Layout --- */
        body {
            margin: 0;
            padding: 0;
            background-color: #0f172a;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            user-select: none;
        }

        .game-bg {
            position: absolute;
            inset: 0;
            background: url('https://placehold.co/1920x1080/1a1a1a/333333?text=Gameplay+Scene') center/cover no-repeat;
            z-index: -1;
            filter: brightness(0.6);
        }

        /* --- Boss Timer Widget Container --- */
        .boss-widget {
            position: relative;
            width: 450px;
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid #334155;
            /* Bentuk Sci-Fi dengan sudut terpotong */
            clip-path: polygon(
                0 0, 
                100% 0, 
                100% 80%, 
                95% 100%, 
                5% 100%, 
                0 80%
            );
            padding: 10px 20px 25px 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
        }

        /* Status: Normal */
        .boss-widget.normal {
            border-color: #334155;
        }

        /* Status: Danger (Waktu < 30%) */
        .boss-widget.danger {
            border-color: #ef4444;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4), inset 0 0 20px rgba(239, 68, 68, 0.1);
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both infinite;
        }

        /* --- Timer Text --- */
        .timer-text {
            font-variant-numeric: tabular-nums;
            text-shadow: 0 0 10px currentColor;
        }

        /* --- Progress Bar --- */
        .progress-container {
            position: relative;
            width: 100%;
            height: 8px;
            background: #1e293b;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #ef4444, #f87171);
            box-shadow: 0 0 10px #ef4444;
            transition: width 0.3s linear, background-color 0.3s ease;
        }

        /* Striped pattern overlay for bar */
        .progress-stripes {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(
                45deg, 
                rgba(0, 0, 0, 0.15) 25%, 
                transparent 25%, 
                transparent 50%, 
                rgba(0, 0, 0, 0.15) 50%, 
                rgba(0, 0, 0, 0.15) 75%, 
                transparent 75%, 
                transparent
            );
            background-size: 20px 20px;
            animation: moveStripes 1s linear infinite;
        }

        /* --- Animations --- */
        @keyframes moveStripes {
            0% { background-position: 0 0; }
            100% { background-position: 20px 0; }
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-3px, 0, 0); }
            40%, 60% { transform: translate3d(3px, 0, 0); }
        }

        @keyframes pulse-text {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .danger .timer-text {
            animation: pulse-text 1s infinite;
            color: #ef4444;
        }

        /* --- Icon --- */
        .boss-icon {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        /* Controls Panel */
        .controls {
            position: fixed;
            bottom: 20px;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 10px;
            display: flex;
            gap: 10px;
            border: 1px solid #444;
        }

    </style>
</head>
<body>

    <div class="game-bg"></div>

    <!-- === UI PROTOTYPE === -->
    <div id="boss-widget" class="boss-widget normal">
        
        <!-- Top Header: Icon & Boss Name -->
        <div class="flex items-center justify-between mb-1">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-red-900/50 rounded-lg border border-red-500 flex items-center justify-center boss-icon shadow-[0_0_10px_rgba(239,68,68,0.5)]">
                    <i class="fa-solid fa-skull text-red-400 text-xl"></i>
                </div>
                <div class="flex flex-col">
                    <span class="text-red-500 text-[10px] font-bold tracking-[0.2em] uppercase leading-none mb-1">Target Priority</span>
                    <span class="text-white font-header text-xl tracking-wider leading-none drop-shadow-md">PLAGUE TITAN</span>
                </div>
            </div>
            
            <!-- Phase Indicator (Optional Detail) -->
            <div class="bg-slate-800 px-2 py-1 rounded border border-slate-600">
                <span class="text-xs text-slate-400 font-ui font-bold">PHASE 2</span>
            </div>
        </div>

        <!-- Divider -->
        <div class="w-full h-[1px] bg-gradient-to-r from-transparent via-slate-500 to-transparent my-2 opacity-50"></div>

        <!-- Timer Section -->
        <div class="flex flex-col items-center w-full">
            <div class="flex items-baseline gap-2">
                <span class="text-slate-400 text-xs font-bold uppercase tracking-widest">Time Remaining</span>
            </div>
            
            <!-- Big Timer Numbers -->
            <div class="text-5xl font-mono-num font-bold text-white timer-text tracking-tight" id="timer-display">
                05:00
            </div>

            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-fill" id="progress-bar" style="width: 100%;">
                    <div class="progress-stripes"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- === END UI PROTOTYPE === -->


    <!-- Simulation Controls -->
    <div class="controls">
        <button onclick="setTimer(300)" class="px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 font-bold text-xs">Full (5m)</button>
        <button onclick="setTimer(60)" class="px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 font-bold text-xs">1m Warning</button>
        <button onclick="setTimer(10)" class="px-4 py-2 bg-red-900 text-white rounded hover:bg-red-700 font-bold text-xs border border-red-500">Critical (10s)</button>
        <button onclick="togglePause()" class="px-4 py-2 bg-blue-700 text-white rounded hover:bg-blue-600 font-bold text-xs" id="pause-btn">Pause</button>
    </div>

    <script>
        // --- Logic Simulation ---
        
        let maxTime = 300; // 5 minutes total
        let currentTime = 300;
        let isPaused = false;
        let updateInterval;

        const widget = document.getElementById('boss-widget');
        const timerDisplay = document.getElementById('timer-display');
        const progressBar = document.getElementById('progress-bar');
        const pauseBtn = document.getElementById('pause-btn');

        function formatTime(seconds) {
            const m = Math.floor(seconds / 60);
            const s = Math.floor(seconds % 60);
            return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function updateUI() {
            // Update Text
            timerDisplay.innerText = formatTime(currentTime);

            // Update Bar Width
            const percentage = (currentTime / maxTime) * 100;
            progressBar.style.width = `${percentage}%`;

            // Visual States
            if (currentTime <= 30) { // Critical State
                if (!widget.classList.contains('danger')) {
                    widget.classList.remove('normal');
                    widget.classList.add('danger');
                    // Change bar color to bright flashing red
                    progressBar.style.background = 'linear-gradient(90deg, #ef4444, #ff0000)';
                }
            } else if (currentTime <= 120) { // Warning State
                widget.classList.remove('danger');
                widget.classList.add('normal');
                // Orange/Amber
                progressBar.style.background = 'linear-gradient(90deg, #f97316, #fbbf24)';
                timerDisplay.style.color = '#fbbf24';
            } else { // Normal State
                widget.classList.remove('danger');
                widget.classList.add('normal');
                // Normal Blue/Green or White
                progressBar.style.background = 'linear-gradient(90deg, #3b82f6, #60a5fa)';
                timerDisplay.style.color = 'white';
            }

            if (currentTime <= 0) {
                currentTime = 0;
                timerDisplay.innerText = "FAILURE";
                clearInterval(updateInterval);
            }
        }

        function startTimer() {
            if (updateInterval) clearInterval(updateInterval);
            updateInterval = setInterval(() => {
                if (!isPaused && currentTime > 0) {
                    currentTime -= 1; // Speed up slightly for demo
                    updateUI();
                }
            }, 1000);
        }

        // Controls
        function setTimer(val) {
            currentTime = val;
            updateUI();
            if(isPaused) togglePause(); // Auto resume if set manually
        }

        function togglePause() {
            isPaused = !isPaused;
            pauseBtn.innerText = isPaused ? "Resume" : "Pause";
        }

        // Init
        startTimer();

    </script>
</body>
</html>
